<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="/Users/annieluc/Documents/GitHub/Word-Guess-Game/assets/style.css">
    <title>Word Guess Game</title>
</head>

<body>
    <div class="container jumbotron-fluid">
        <div class="row">
            <div class="col-lg-6 col-md-3 col-sm-12 col-xs-12">
                <h1>Name the Dog Game</h1>
            </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
                    <img src="https://www.sciencenewsforstudents.org/sites/default/files/2016/06/main/articles/860-header-dog-breeds.jpg" width="500px" height="250px"
                        alt="A group of dogs">
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                <div id="startGame" class="col-lg-6 col-md-3 col-sm-12 col-xs-12">
                    <form>
                        <input type="button" value="Click Start to Play" onclick="startGame()">
                    </form>
                </div>
            </div>
            <p>Wins
                <div id="winsValue">0</div>
            </p>
            <p>Losses
                <div id="lossesValue">0</div>
            </p>
            <p>Current Word
                <div id="currentWord"></div>
            </p>
            <p>Guesses Remainging
                <div id="guessesRemaining">10</div>
            </p>
            <p>Letters already guessed
                <div id="lettersGuessed">letters</div>
            </p>

            <script type="text/javascript">

                var winsValueElement = document.querySelector("#winsValue");
                var lossesValueElement = document.querySelector("#lossesValue");
                var currentWordElement = document.querySelector("#currentWord");
                var guessesRemainingElement = document.querySelector("#guessesRemaining");
                var lettersGuessedElement = document.querySelector("#lettersGuessed");
                var winsValue = 0;
                var lossesValue = 0;
                var guessesRemaining = 10;
                var lettersGuessed = "";
                var dashWord = "";

                //setting values back to its inital state different from reset function
                function initial() {
                    winsValueElement.innerText = winsValue;
                    lossesValueElement.innerText = lossesValue;
                    guessesRemainingElement.innerText = guessesRemaining;
                    lettersGuessedElement.innerText = lettersGuessed
                }

                //generating words and generate the dashes
                function generateWord() {
                    var words = ["husky", "corgi", "boxer", "maltese"]
                    var results = words[Math.floor(Math.random() * 4)]
                    console.log(results);
                    return results;
                }

                //button
                function startGame() {
                    document.getElementById("startGame").innerText = "Lets Play!";
                    currentWordElement.innerText = dashWord;
                    reveal();
                    document.onkeyup = pressedKey;
                }

                //pressed key and indexOf will search in the array to see if there the same letter. If there is the same letter, it will say "already guessed" in the console.
                function pressedKey() {
                    if (lettersGuessed.indexOf(event.key) > -1) {
                        console.log("already guessed");
                    } else {
                        lettersGuessed.push(event.key);
                        guessesRemaining = guessesRemaining - 1;
                        console.log(guessesRemaining)
                    }
                    if (guessesRemaining == -1) {
                        lossesValue = lossesValue + 1;
                        lossesValueElement.innerText = lossesValue;
                        console.log(lossesValue);
                        alert("Game Over");
                        reset()
                    }
                    reveal()
                    if (dashWord.indexOf("_") == -1) {
                        winsValue = winsValue + 1;
                        winsValueElement.innerText = winsValue;
                        console.log("You win!");
                        reset();

                    }
                    //updating the elements; these will happen every time.   
                    guessesRemainingElement.innerText = guessesRemaining;
                    lettersGuessedElement.innerText = lettersGuessed;

                }
                //revealing the current word
                function reveal() {
                    dashWord = "";
                    for (var i = 0; i < currentWord.length; i++) {
                        if (lettersGuessed.includes(currentWord[i])) {
                            dashWord += currentWord[i];
                        } else {
                            dashWord += "_";
                        }
                    }
                    currentWordElement.innerText = dashWord;

                }
                //resetting the current word, guesses remaining and letters entered
                function reset() {
                    guessesRemaining = 10;
                    currentWord = generateWord();
                    lettersGuessed = [];
                    reveal();
                    lettersGuessedElement.innerText = lettersGuessed;
                    guessesRemainingElement.innerText = guessesRemaining;
                }



                //executing functions aka main function. This loads first when the page loads. 
                initial() //just calling a function. Not assigning it to anything.
                var currentWord = generateWord();
                var lettersGuessed = [];




            </script>



        </div>
</body>

</html>